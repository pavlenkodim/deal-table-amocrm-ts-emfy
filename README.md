# Тестовое задание "Вывод сделок с amoCRM с помощью API"

## Описание тестового задания:
ВАЖНО. Тестовое задание должно быть выполнено полностью на frontend в виде отдельно сверстанной страницы без использования backend.
1. Вывести на страницу в виде таблицы Сделки из созданного аккаунта amoCRM с помощью ранее полученных доступов. Для решения проблемы CORS можно использовать любой прокси-сервер - это даст возможность выполнять обращение к методам amoCRM. В таблицу необходимо вывести названия сделок, бюджеты, даты и время создания/изменения, ответственных и любые другие поля сделок. В рамках выполнения задания безопасностью можно пренебречь - необходимо сохранить refresh и access токены для доступа к аккаунту непосредственно в скрипте.
2. Скрипт должен давать возможность пагинации по 2, 5 и 10 сделок на странице. Также должна быть возможность вывести сразу все сделки. В рамках вывода всех сделок необходимо выполнить ограничение: за один запрос получать максимум 5 сделок и не отправлять более 2 запросов в секунду.
3. Реализовать сортировку по бюджету и названию сделки.
4. Критерием успешно выполненного задания являются все пункты описанные выше, а также обязательное предоставление access и refresh токенов в теле кода для последующей проверки.  Написание скрипта предпочтительно на чистом JavaScript (с привлечением jQuery при необходимости). Но если необходимо, то можно использовать JS фреймворк. Для отображения может быть использован CSS фреймворк (например, Bootstrap).

## Комментарии к выполненой работе.
Задание выполнено на 95%, однако по моему мнению есть моменты которые необходимо улучшить. На них я окцентировал внимание и добавил в TODO.   
Не получилось выполнить это задание из 2 пукта ТЗ <b>"В рамках вывода всех сделок необходимо выполнить ограничение: за один запрос получать максимум 5 сделок и не отправлять более 2 запросов в секунду."</b> не хватило времени в этом разобраться. Долго провозился с авторизацией и прокси сервером. 

В проекте использовал npm библиотеки [axios](https://axios-http.com/) и [webpack](https://webpack.js.org/), прокси сервер [thingproxy](https://github.com/Freeboard/thingproxy), для стилей [boostrap](https://getbootstrap.com/) - импортировал прямо в css.

Авторизация в amoCRM происходит посредством долговрменного accessToken, он к слову присутствует непосредственно в коде, не стал выносить в отдельный файл.

## С чего начать.
Для запуска и тестирования проекта необходимо склонировать его к себе на компьютер, выполнив команду в терминале: 
```
git clone https://github.com/pavlenkodim/deal-table-amocrm-ts-emfy.git
```
после чего перейти в папку с проектом:
```
cd ./deal-table-amocrm-ts-emfy/
```
Далее необходимо установить все `npm` пакеты и зависимости:
```
npm install
```
После чего этого можно пересобрать проект с помощью `webpack`:
```
npx webpack
```
В теории файл со сборкой уже готов к использованию, но вдруг полезут ошибки.

### Что с прокси?
Прокси сервер я также склонировал к себе в отдельную директорию и запустил `server.js`:
```
git clone https://github.com/Freeboard/thingproxy.git
node server.js
```
На этом для запуска проекта более ничего не требуется.

## Feedback
Будет очень здорово если более опытные разработчики укажут на ошибки и подскажут как их предотвратить в будующем.